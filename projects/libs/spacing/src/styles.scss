$spacing-tokens: (
  0: 1px,
  1: 2px,
  2: 4px,
  3: 8px,
  4: 12px,
  5: 16px,
  6: 20px,
  7: 24px,
  8: 32px,
  9: 40px,
  10: 48px,
  11: 64px,
  12: 80px,
  13: 96px,
  14: 128px,
  15: 160px,
  16: 196px,
  17: 256px,
  18: 320px,
  19: 392px,
  20: 512px,
);

@function spacing($token) {
  @if map-has-key($spacing-tokens, $token) {
    @return map-get($spacing-tokens, $token);
  } @else {
    @error "Unknown spacing token: #{$token}";
  }
}

@function to-css-variable($variable-name) {
  @return '--spacing-#{$variable-name}';
}

@mixin set-css-variables($spacing-tokens) {
  :root {
    @each $key, $value in $spacing-tokens {
      #{to-css-variable($key)}: #{$value};
    }
  }
}

@include set-css-variables($spacing-tokens);
