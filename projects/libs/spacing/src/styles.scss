$spacing-tokens: (
  0: 1px,
  1: 2px,
  2: 4px,
  3: 8px,
  4: 12px,
  5: 16px,
  6: 20px,
  7: 24px,
  8: 28px,
);

@function spacing($token) {
  @if map-has-key($spacing-tokens, $token) {
    @return map-get($spacing-tokens, $token);
  } @else {
    @error "Unknown spacing token: #{$token}";
  }
}

@function to-css-variable($variable-name) {
  @return '--spacing-#{$variable-name}';
}

@mixin set-css-variables($spacing-tokens) {
  :root {
    @each $key, $value in $spacing-tokens {
      #{to-css-variable($key)}: #{$value};
    }
  }
}

@include set-css-variables($spacing-tokens);
